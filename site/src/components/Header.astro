---
export interface Props {
  logoSrc?: string;
  brandName?: string;
}

const nav = [
  { href: "/", label: "Accueil" },
  { href: "/notre-histoire", label: "Notre histoire" },
  { href: "/nos-produits", label: "Nos produits" },
  { href: "/evenements", label: "Événements" },
  { href: "/galerie", label: "Galerie" },
  { href: "/contact", label: "Contact / collaboration" },
];

const { logoSrc = "/images/logo.png", brandName = "Usagi Délice" } =
  Astro.props;
---

<header class="site-header">
  <div class="container header-inner">
    <a class="brand" href="/" aria-label={`${brandName} — Accueil`}>
      <img
        src={logoSrc}
        alt={`${brandName} logo`}
        width="38"
        height="38"
        loading="eager"
      />
      <span class="name">{brandName}</span>
    </a>

    <nav class="nav" aria-label="Navigation principale">
      {nav.map((item) => <a href={item.href}>{item.label}</a>)}
    </nav>

    <div class="header-actions">
      <a class="btn primary" href="/evenements#prochaines-dates">Nous trouver</a
      >

      <details class="mobile-nav">
        <summary class="menu-btn" aria-label="Ouvrir le menu"> ☰ </summary>
        <div class="mobile-drawer container" role="menu">
          {
            nav.map((item) => (
              <a href={item.href} role="menuitem">
                {item.label}
              </a>
            ))
          }
        </div>
      </details>
    </div>
  </div>
</header>

<style>
  details.mobile-nav {
    position: relative;
  }
  details.mobile-nav > summary {
    list-style: none;
    cursor: pointer;
  }
  details.mobile-nav > summary::-webkit-details-marker {
    display: none;
  }
  details.mobile-nav[open] .mobile-drawer {
    display: block;
  }
</style>
